<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/css/animate.css" rel="stylesheet" />
  <link href="/css/semantic-ui.css" rel="stylesheet" />
  <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.3/mapbox.css' rel='stylesheet' />  
  <link href="/css/style.css" rel="stylesheet" />
  <title>Data Visualization Capstone</title>
</head>

<body id="map-content" class="loading">
  
  <!-- Sidebar -->
  <div class="ui_menu out">

    <!-- Header -->
    <div class="menuHeader">
      <h1>Filters</h1>
    </div>

    <div id="menuBody">

      <div class="item menu_module" id="aparments_module">

        <!-- Section -->
        <div class="menuSection">
          <p class="sectionHeader noMarginBottom">Apartment Heatmap</p>
          <p class="ui_subheader">Explore rent prices, number of bedrooms, and square footage of apartments in different areas of Boston.</p>
          <div class="ui checkbox">
            <input type="checkbox" name="apartment" checked>
            <label>Display</label>         
          </div>
        </div>  


        <input type="checkbox" name="apartment" id="toggle_apartment_heatmaps">
        <p style="display: inline; margin-left: 9px;">Display</p>

        <!-- Section -->
        <div id="heatmapParams">
          <p class="rangeTitle">Heatmap scale</p>
          <!-- Section -->
          <div class="menuSection scaleOption">
            <div class="optionHeader">
              <div class="ui radio checkbox">
                <input type="radio" name="scale" checked>
                <label>Use rent prices as scale</label>
              </div>
            </div>
            <div class="menuSection optionBody">

              <!-- Section -->
              <div class="menuSection">  
                  
                <p>Number of bedrooms</p>
                <div class="ui checkbox">
                  <input type="checkbox" name="any_br" checked>
                  <label>Any</label>
                </div>          
                <div class="ui checkbox">
                  <input type="checkbox" name="1_br">
                  <label>1</label>
                </div>
                <div class="ui checkbox">
                  <input type="checkbox" name="2_br">
                  <label>2</label>
                </div>
                <div class="ui checkbox">
                  <input type="checkbox" name="3_br">
                  <label>3</label>
                </div>
                <div class="ui checkbox">
                  <input type="checkbox" name="4_br">
                  <label>4+</label>
                </div>
              </div>
              
              <!-- Section -->
              <div class="menuSection">
                <p>Square Footage</p>
                <span class="footage_link_lower"></span>
                <span class="footage_link_upper" style="float:right"></span>                
                <div class="footage range"></div>
                <div style="text-align:center; height:10px;">
                  <span>1000 - 2,000 Square Feet</span>
                </div>
              </div>

            </div>
          </div>
          
          <!-- Section -->
          <div class="menuSection scaleOption">
            <div class="optionHeader">
              <div class="ui radio checkbox">
                <input type="radio" name="scale" >
                <label>Use number of bedrooms as scale</label>
              </div>
            </div>
            <div class="menuSection optionBody">

              <!-- Section -->
              <div class="menuSection">
                <p>Square Footage</p>
                <span class="footage_link_lower"></span>
                <span class="footage_link_upper" style="float:right"></span>                
                <div class="footage range"></div>
                <div style="text-align:center; height:10px;">
                  <span>1000 - 2,000 Square Feet</span>
                </div>
              </div>

              <!-- Section -->
              <div class="menuSection">
                <p>Price</p>
                <span class="price_link_lower"></span>
                <span class="price_link_upper" style="float:right"></span>                
                <div class="price range"></div>
                <div style="text-align:center; height:10px;">
                  <span>500- 4,000 dollars a month</span>
                </div>
              </div>              

            </div>
          </div>
          
          <!-- Section -->
          <div class="menuSection scaleOption">
            <div class="optionHeader">
              <div class="ui radio checkbox">
                <input type="radio" name="scale" >
                <label>Use square footage as scale</label>
              </div>
            </div>
            <div class="menuSection optionBody">

              <!-- Section -->
              <div class="menuSection">      
                <p>Number of bedrooms</p>
                <div class="ui checkbox">
                  <input type="checkbox" name="any_br" checked>
                  <label>Any</label>
                </div>          
                <div class="ui checkbox">
                  <input type="checkbox" name="1_br">
                  <label>1</label>
                </div>
                <div class="ui checkbox">
                  <input type="checkbox" name="2_br">
                  <label>2</label>
                </div>
                <div class="ui checkbox">
                  <input type="checkbox" name="3_br">
                  <label>3</label>
                </div>
                <div class="ui checkbox">
                  <input type="checkbox" name="4_br">
                  <label>4+</label>
                </div>
              </div>

              <!-- Section -->
              <div class="menuSection">
                <p>Rent Price</p>
                <span class="price_link_lower"></span>
                <span class="price_link_upper" style="float:right"></span>                
                <div class="price range"></div>
                <div style="text-align:center; height:10px;">
                  <span>500 - 4,000 dollars a month</span>
                </div>
              </div>

            </div>
          </div>
                              
        </div>

      </div>

      <div class="item menu_module" id="social_media_module">

        <!-- Section -->
        <div class="menuSection noMarginBottom">
          <p class="sectionHeader">Social Media</p>
        </div> 

        <!-- Section -->
        <div class="menuSection">
          <p class="ui_subheader">Explore what people are posting on Twitter and Instagram around the city be selecting hashtags below</p>
        </div> 

        <!-- Section -->
        <div class="menuSection">
          <ul id="hashtags">
            <li class="hashtag active">traffic</li>
            <li class="hashtag">snow</li>
            <li class="hashtag">southend</li>
            <li class="hashtag">patriots</li>
            <li class="hashtag">commuting</li>
            <li class="hashtag">boston</li>
          </ul>
        </div>

        <!-- Section -->
        <div class="menuSection">
          <p>Add one custom hashtag to the map</p>
          <div class="ui input">
            <input placeholder="Enter word" id="hashtagInput">
          </div>
          <div class="ui button" id="addHashtagButton" onclick="UI.getTweets('#hashtagInput')" style="background-color:#1b1c1d; color:#fff;">
            Add
          </div>
          <div class="ui button" id="removeHashtagButton" style="background-color:#1b1c1d; color:#fff; display:none;">
            Delete
          </div>          
        </div>
      </div>
      
      <!-- Section -->
      <div class="item menu_module">
        
        <div class="menuSection noMarginBottom">
          <p class="sectionHeader">Additional Information</p>
        </div>

        <div class="menuSection">
          <div class="ui checkbox">       
            <input type="checkbox" name="neighborhoods">
            <label>Boston Neighborhoods</label>         
          </div>        
        </div>

        <div class="menuSection">
          <div class="ui checkbox">       
            <input type="checkbox" name="mbta">
            <label>MBTA Train Map</label>         
          </div> 

        <input type="checkbox" name="apartment" id="toggle_red_line">
        <p style="display: inline; margin-left: 9px;">Red Line</p>

        <input type="checkbox" name="apartment" id="toggle_orange_line">
        <p style="display: inline; margin-left: 9px;">Organge Line</p>
        </div>            
      </div>
    </div>
  </div>

  <div class="map_tray">
  <div class="ui secondary button right out" id="sideNavToggle" onclick="UI.toggleSideNav('#sideNavToggle');" style="top: 13px; left: 0px; z-index: 10001; position: absolute; border-radius:0px;">
    Hide Menu
  </div>

  <div id="mapkey"></div>

  <!-- Leaflet.js map -->
  <div id='map'></div>

  <div id="filterMenu" style="display:none;">
    <div id="fmToggle">
      <a href="javascript:void(0)">
        <h4>Data Filters</h4>
      </a>
    </div>

    <div id="filterMenuBody">
      <div id="filterMenuBodyInner">
        <form action="#">
          <!-- Select Data Sets -->
          <div id="toggles" style="display: none;"></div>
  
          <section id="dateSection">
            <h4>by Date:</h4>

            <!-- Filter Data -->
            <div class="demo">
              <input id="date-range" value="" style="width: 100%;">
            </div>


            <div class="divider clear"></div>

            <section id="timeSection">
              <h4>by Time:</h4>

              <div id="slider"></div>

              <div class="divider"></div>

              <h4>MAP TYPE</h4>

              <div class="inputGroup">
                <div class="checkbox_outer">
                  <input type="checkbox" name="time" value="heatmap" checked>
                  <label>Heatmap</label>
                </div>
              </div>

              <div class="inputGroup">
                <div class="checkbox_outer">
                  <input type="checkbox" name="time" value="chronological">
                  <label>Chronological</label>
                </div>
              </div>

              <div class="inputGroup">
                <div class="checkbox_outer">
                  <input type="checkbox" name="time" value="plain">
                  <label>Plain</label>
                </div>
              </div>

            </section>
        </div>
      </form>
    </div>
  </div>

  <!-- Loading Indicator -->
  <div id="loading" class="spin" style="display: none;"></div>
</div>
  <!-- Data Visualization Script -->
  <script src="js/app.js"></script>

  <!-- UI and Event Handlers for Content -->
  <script src="js/boston-ui.js"></script>

  <!-- Load in Sample Data -->
  <script src="js/sample-data.js"></script>
  
  <!-- External -->
  <script src="https://api.tiles.mapbox.com/mapbox.js/v1.6.3/mapbox.js"></script>
  <script src="http://d3js.org/d3.hexbin.v0.min.js?5c6e4f0"></script>

  <script>

    /************************************
         Data Visualization Settings
     ************************************/

    // For reference, Boston is:
    // 42.3601° N (lat), 71.0589° W (long), or -71

    // Map settings
    var options = {

      // Mapbox's style key for applying map designs
      map_key: "stephalee.aec4ccea",

      // Define default map viewport: Top left & bottom right coordinates
      viewport: [
        [42.329077, -71.108871],
        [42.374200, -71.032072]
      ],

      maxZoom : 12,

      minZoom : 4,

      // Support multiple layers of data representation.
      // Useful for building correlations between data sets.
      layers : [],
        
    }

    /************************************
         Add Default Data
     ************************************/
 
    // options.layers.push({
      
    //   // Set name for layer
    //   // used for unique ID
    //   name : "Hex Map",

    //   // Define representation of layer
    //   type: "hex",

    //   // Data from sample-data.js
    //   data : sample_data.apartments,
      
    //   // Pixel width
    //   width: 15,

    //   // Define custom color. Used if points
    //   //  on't have a color parameter.
    //   color: "#005696",
      
    //   // Custom function to filter data set.
    //   // Use to remove duplicates or process.
    //   filter : function(point){
    //     return point.value > 2000;
    //   },
    //   // Apply function to every point
    //   // Useful for computing color.
    //   map : function(point){
    //     return point;
    //   },
    // });

    // options.layers.push({
    //   name : "Orange Line",      
    //   type: "path",
    //   data : sample_data.subway.orange,
    //   width: 5,
    //   color: "#ffa500",
    // });

    // options.layers.push();

    /************************************
              Initialize Map
     ************************************/

    // Global variable for map object
    // Initialize Leaflet map
    var map = L.mapbox.map('map', options.map_key).fitBounds(options.viewport);

    // Add layers when the map is ready.
    map.on('ready', function(){
      addLayers(options.layers);
    })

    // Re-add layers when the map has changed.
    map.on('viewreset', function(){
      console.log("\nView Reset: Replotting Layers");
      addLayers(options.layers);
    })

    /************************************
            Wire-up UI Elements
     ************************************/

    var red_line = {
      name : "Red Line",
      type: "path",
      data : sample_data.subway.red,
      width: 5,
      color: "#ff0000",
    }

    var orange_line = {
      name : "Orange Line",      
      type: "path",
      data : sample_data.subway.orange,
      width: 5,
      color: "#ffa500",
    }

    var heatmapLayer = {
      name : "Hex Map",
      type: "hex",
      data : sample_data.apartments,
      width: 15,
      color: "#005696",
      filter : function(point){
        return point.value > 2000;
      },
      map : function(point){
        return point;
      },
    };

    $(document).ready(function(){
        UI.elements.checkbox("#toggle_apartment_heatmaps", heatmapLayer);  
        UI.elements.checkbox("#toggle_red_line", red_line);  
        UI.elements.checkbox("#toggle_orange_line", orange_line);  
    })

    


  </script>
</body>

</html>